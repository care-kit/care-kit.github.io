(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{285:(e,r,n)=>{"use strict";n.d(r,{$:()=>d});var t=n(5155),i=n(2115),s=n(4253),o=n(2085),l=n(9434);let a=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,r)=>{let{className:n,variant:i,size:o,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,t.jsx)(u,{className:(0,l.cn)(a({variant:i,size:o,className:n})),ref:r,...c})});d.displayName="Button"},1243:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>c});var t=n(5155),i=n(2115),s=n(5695),o=n(535),l=n(9298),a=n(285),d=n(3262);function c(e){let{children:r}=e,{user:n,loading:c,logout:u}=(0,o.A)(),f=(0,l.h)(),m=(0,s.useRouter)();(0,i.useEffect)(()=>{c||n?!c&&n&&!1===f?(console.log("Admin layout: User not admin, redirecting to home. Role:",n.role),m.push("/")):!c&&n&&f&&console.log("Admin layout: User is admin, role:",n.role):(console.log("Admin layout: No user, redirecting to login"),m.push("/login"))},[n,c,f,m]);let p=async()=>{await u(),m.push("/login")};return c?(0,t.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):n&&!1!==f?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b bg-card",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.ek,{className:"h-6 w-6 text-primary"}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:n.email}),(0,t.jsxs)(a.$,{variant:"outline",size:"sm",onClick:p,className:"gap-2",children:[(0,t.jsx)(d.nU,{className:"h-4 w-4"}),"Logout"]})]})]})})}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",children:r})]}):(console.log("Admin layout: Not rendering. User:",!!n,"isAdmin:",f),null)}},4253:(e,r,n)=>{"use strict";n.d(r,{DX:()=>o});var t=n(2115);function i(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}var s=n(5155),o=function(e){let r=function(e){let r=t.forwardRef((e,r)=>{let{children:n,...s}=e;if(t.isValidElement(n)){var o;let e,l,a=(o=n,(l=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(l=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),d=function(e,r){let n={...r};for(let t in r){let i=e[t],s=r[t];/^on[A-Z]/.test(t)?i&&s?n[t]=(...e)=>{let r=s(...e);return i(...e),r}:i&&(n[t]=i):"style"===t?n[t]={...i,...s}:"className"===t&&(n[t]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(s,n.props);return n.type!==t.Fragment&&(d.ref=r?function(...e){return r=>{let n=!1,t=e.map(e=>{let t=i(e,r);return n||"function"!=typeof t||(n=!0),t});if(n)return()=>{for(let r=0;r<t.length;r++){let n=t[r];"function"==typeof n?n():i(e[r],null)}}}}(r,a):a),t.cloneElement(n,d)}return t.Children.count(n)>1?t.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),n=t.forwardRef((e,n)=>{let{children:i,...o}=e,l=t.Children.toArray(i),d=l.find(a);if(d){let e=d.props.children,i=l.map(r=>r!==d?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...o,ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,i):null})}return(0,s.jsx)(r,{...o,ref:n,children:i})});return n.displayName=`${e}.Slot`,n}("Slot"),l=Symbol("radix.slottable");function a(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}},5695:(e,r,n)=>{"use strict";var t=n(8999);n.o(t,"useRouter")&&n.d(r,{useRouter:function(){return t.useRouter}})},5739:(e,r,n)=>{Promise.resolve().then(n.bind(n,1243))},9298:(e,r,n)=>{"use strict";n.d(r,{h:()=>i});var t=n(535);function i(){let{user:e}=(0,t.A)();return(null==e?void 0:e.role)==="admin"}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,644,633,366,103,441,684,358],()=>r(5739)),_N_E=e.O()}]);